---
description: |
  In this example, we will run Nginx as a Docker container to be scanned within the CircleCI
  build environment. We run the stackhawk/hawkscan-local job with the parameter `docker-network: scan_net` to tell
  HawkScan to run on the Docker named network, `scan_net`. We also provide the
  parameter `steps` to 1) create a named Docker bridge network, `scan_net`, and 2) run an nginx container on that
  network with the name `nginx_test`.

  In our HawkScan configuration, we add our test subject, the nginx container, as `app.host: http://nginx_test`.
  This example assumes you have stored your StackHawk API key as a protected environment variable, HAWK_API_KEY.

usage:
  version: 2.1
  orbs:
    stackhawk: stackhawk/stackhawk@x.y
  workflows:
    scan-local:
      jobs:
        - stackhawk/hawkscan-local:
            docker-network: scan_net
            steps:
              - run:
                  name: Create scan_net Network
                  command: docker network create scan_net
              - run:
                  name: Run Local Test Instance, nginx_test, on the scan_net Network
                  command: docker run --rm --detach --network scan_net --name nginx_test nginx